{"version":3,"file":"static/js/659.df88d6f7.chunk.js","mappings":"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","sources":["carouselCard.js","component/edit.component.js"],"sourcesContent":["import {\r\n    ButtonBack, ButtonNext,\r\n    CarouselProvider, ImageWithZoom, Slide, Slider, Dot\r\n} from 'pure-react-carousel';\r\nimport 'pure-react-carousel/dist/react-carousel.es.css';\r\n\r\nexport function CarouselCard(props) {\r\n    return (\r\n        <CarouselProvider visibleSlides={1} totalSlides={props.urlArrayId.length} step={1} naturalSlideWidth={1} naturalSlideHeight={1} hasMasterSpinner lockOnWindowScroll className='bg-dark bg-opacity-25 backdrop_blur rounded overflow-hidden col p-0 m-0' style={{\r\n            aspectRatio: '1'\r\n        }}>\r\n            <Slider className='m-0'>\r\n                {props.urlArrayId.map((el, index) => {\r\n                    return <Slide index={index} key={index}>\r\n                        <ImageWithZoom src={el} className='imageWZoom' />\r\n                    </Slide>;\r\n                })}\r\n            </Slider>\r\n\r\n            <ButtonBack className='position-absolute top-50 start-0 translate-middle-y d-grid mx-lg-3 btn btn-link'>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"42\" height=\"42\" fill=\"white\" className=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\r\n                    <path fillRule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\" />\r\n                </svg>\r\n            </ButtonBack>\r\n            <ButtonNext className='position-absolute top-50 end-0 translate-middle-y d-grid mx-lg-3 btn btn-link'>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"42\" height=\"42\" fill=\"white\" className=\"bi bi-arrow-right\" viewBox=\"0 0 16 16\">\r\n                    <path fillRule=\"evenodd\" d=\"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\" />\r\n                </svg>\r\n            </ButtonNext>\r\n\r\n            <div className='position-absolute bottom-0 start-50 translate-middle-x'>\r\n                {props.urlArrayId.map((el, index) => {\r\n                    return <Dot key={index} slide={index} className='btn btn-light my-3 mx-1' />\r\n                })}\r\n            </div>\r\n        </CarouselProvider>\r\n    )\r\n}\r\n","import { useEffect, useState, useRef } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { CarouselCard } from '../carouselCard';\r\nimport { SERVERURL } from '../App';\r\n\r\nexport default function Edit() {\r\n    const params = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    const [kode, setKode] = useState(params.id);\r\n    const [data, setData] = useState({\r\n        _id: \"\",\r\n        kode: \"\",\r\n        warna: \"\",\r\n        harga: \"\",\r\n        favorit: \"\",\r\n        kategori: \"\",\r\n        urlArray: []\r\n    });\r\n    const [gownId, setGownId] = useState('');\r\n    const [urlArrayId, setUrlArrayID] = useState([]);\r\n    const [deleteConfirm, setDeleteConfirm] = useState(false);\r\n    const [favorit, setFavorit] = useState(false);\r\n\r\n    const [loadingState, setLoadingState] = useState(true);\r\n    const [carouselState, setCarouselState] = useState(false);\r\n\r\n    const formRef = useRef();\r\n\r\n    useEffect(() => {\r\n        const controller = new AbortController();\r\n        const signal = controller.signal;\r\n\r\n        const url = `${SERVERURL}api/v1/gown/kode/${kode}`;\r\n        axios.get(url, { signal })\r\n            .then(res => {\r\n                setData(res.data.gownFound[0]);\r\n                setUrlArrayID(res.data.gownFound[0].urlArray);\r\n                setGownId(res.data.gownFound[0]._id);\r\n                setFavorit(res.data.gownFound[0].favorit);\r\n            })\r\n            .catch((error) => {\r\n                if (axios.isCancel(error)) {\r\n                    console.log(\"Cancelled\");\r\n                } else if (error.message === 'Network Error') {\r\n                    alert(\r\n                        'Cant connect to server.\\n' +\r\n                        'Please try again later and if problem persist, please contact us through Whatsapp.\\n' +\r\n                        '(Link on the bottom of the page)'\r\n                    );\r\n                } else console.log(error);\r\n            }).finally(() => setTimeout(() => { setLoadingState(false) }, 2500))\r\n\r\n        return () => controller.abort();\r\n    }, [])\r\n\r\n    const Delete = async () => {\r\n        console.log('delete')\r\n        const data = { id: gownId, kode: kode };\r\n        await fetch(SERVERURL + 'admin/delete', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-access-token' : localStorage.getItem('token')\r\n            },\r\n            body: JSON.stringify(data),\r\n        })\r\n            .then(res => {\r\n                if (res.status === 200) {\r\n                    console.log('Success')\r\n                    alert('Change Applied');\r\n                    navigate('/');\r\n                } else if (res.status === 401) {\r\n                    alert(res.status + \" - \" + res.statusText);\r\n                    navigate('/login');\r\n                } else alert(res.status + \" - \" + res.statusText);\r\n            })\r\n            .catch(err => {\r\n                alert('Failed to Delete...');\r\n            })\r\n    }\r\n\r\n    const Submit = async (e) => {\r\n        setLoadingState(true);\r\n        e.preventDefault();\r\n        \r\n        await fetch(SERVERURL + 'admin/edit', {\r\n            method: 'POST',\r\n            body: new FormData(formRef.current),\r\n            headers: {\r\n                'x-access-token' : localStorage.getItem('token')\r\n            },\r\n        })\r\n            .then(res => {\r\n                if (res.status === 200) {\r\n                    console.log('Success')\r\n                    alert('Change Applied');\r\n                    navigate('/');\r\n                } else if (res.status === 401) {\r\n                    alert(res.status + \" - \" + res.statusText);\r\n                    navigate('/login');\r\n                } else alert(res.status + \" - \" + res.statusText);\r\n            })\r\n            .catch(err => {\r\n                alert('Failed to edit...');\r\n            })\r\n            .finally(() => setTimeout(() => { setLoadingState(false) }, 2500))\r\n    }\r\n\r\n    return (\r\n        <div style={{ overflowX: 'hidden' }} className='mt-2'>\r\n            <div className='d-flex justify-content-center'>\r\n                <div className={`row row-cols-1 justify-content-around my-2 ${carouselState ? 'row-cols-md-2 container-fluid' : 'row-cols-md-1'} p-2`}>\r\n                    <div className='col col-md-6'>\r\n                        {carouselState ? \r\n                            <CarouselCard urlArrayId={urlArrayId} />\r\n                            :<span></span>\r\n                        }\r\n                    </div>\r\n\r\n                    <form className='col' onSubmit={e => Submit(e)} ref={formRef}>\r\n                        <h1 className='h1 text-center mt-2'>Edit <span className=' h3 text-muted'> {kode} </span></h1>\r\n\r\n                        <button type=\"button\" className='btn btn-dark mt-2 container-fluid' onClick={()=> setCarouselState(!carouselState)}>\r\n                            {!carouselState ? 'Open ' : 'Close ' } \r\n                            Image Carousel\r\n                        </button>\r\n                        \r\n                        <div className='row'>\r\n                            <div className='col-sm-8'>\r\n                                <label className='mb-1' htmlFor='kodeInp'>Kode</label>\r\n                                <input className=\"container-fluid border rounded p-2 mb-1 bg-dark bg-opacity-25 focusNone text-white\" id='kodeInp' type=\"text\" readOnly=\"readonly\" value={kode} name=\"kode\" aria-label=\"Edit\" />\r\n                            </div>\r\n                            <div className='col-sm-4 d-flex align-items-center'>\r\n                                <input className=\"form-check-input\" type=\"checkbox\" name='favorit' id=\"flexCheckChecked\" value=\"true\" \r\n                                onChange={() => setFavorit(!favorit)} checked={favorit} aria-label=\"Edit\" />\r\n                                <label className=\"form-check-label m-1\" htmlFor=\"flexCheckChecked\">\r\n                                    Favorit\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className='row'>\r\n                            <div className='col'>\r\n                                <label className='mb-1' htmlFor='warnaInp'>Warna</label>\r\n                                <input className=\"form-control\" id='warnaInp' type=\"text\" placeholder={data.warna} name=\"warna\" aria-label=\"Edit\" />\r\n                            </div>\r\n\r\n                            <div className='col'>\r\n                                <label className='mb-1' htmlFor='hargaInp'>Harga</label>\r\n                                <div className='input-group'>\r\n                                    <span className=\"input-group-text bg-dark bg-opacity-25 text-white\" id=\"hargaInp\">Rp.</span>\r\n                                    <input className=\"form-control\" id='hargaInp' type=\"number\" placeholder={data.harga} name=\"harga\" aria-label=\"Edit\"\r\n                                        min={0} onWheel={(e) => e.target.blur()} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <hr />\r\n\r\n                        <div className='row row-col-2'>\r\n                            {urlArrayId.map((el, index) => {\r\n                                return (\r\n                                    <div key={'div' + index} className='mb-2 col-12 col-sm-6 col-md-12 col-lg-6'>\r\n                                        <label key={'label' + index} className='mb-1' htmlFor='urlArray'>{index === 0 ? 'Ubah Foto Utama' : `Ubah Foto ke-${index + 1}`}</label>\r\n                                        <a className='ms-3' target=\"_blank\" rel=\"noreferrer\"\r\n                                            href={el}\r\n                                            id='urlArray'>Link Foto\r\n                                        </a>\r\n                                        <input className=\"form-control \" id='tambahFoto' type=\"file\" name={\"change_\" + index} aria-label=\"Edit\" accept='.jpg, .jpeg'/>\r\n                                    </ div>\r\n                                )\r\n                            })}\r\n                        </div>\r\n\r\n                        <hr />\r\n                        <label className='mb-1' htmlFor='tambahFoto'>Tambah Foto</label>\r\n                        <input className=\"form-control mb-4\" id='tambahFoto' type=\"file\" name=\"add\" aria-label=\"Edit\" multiple accept='.jpg, .jpeg'/>\r\n                        \r\n                        <p>*Foto tidak akan update secara langsung disini, karena cache msh menyimpan foto lama.</p>\r\n                        \r\n                        <div className='d-flex justify-content-between mb-4'>\r\n                            <button className='btn btn-primary' disabled={loadingState ? true : false}>{loadingState ? 'Loading...' : 'Submit'}</button>\r\n                            <button className=\"btn btn-danger\" type='button' disabled={loadingState ? true : false}\r\n                                onClick={() => {\r\n                                    console.log(deleteConfirm)\r\n                                    if (deleteConfirm) {\r\n                                        Delete()\r\n                                    } else setDeleteConfirm(true)\r\n                                }}>\r\n                                {!deleteConfirm ? 'Delete Gown Data' : 'Are You Sure?'}\r\n                            </button>\r\n                        </div>\r\n                        \r\n\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}"],"names":["CarouselCard","props","visibleSlides","totalSlides","urlArrayId","length","step","naturalSlideWidth","naturalSlideHeight","hasMasterSpinner","lockOnWindowScroll","className","style","aspectRatio","map","el","index","src","xmlns","width","height","fill","viewBox","fillRule","d","slide","Edit","params","useParams","navigate","useNavigate","useState","id","kode","_id","warna","harga","favorit","kategori","urlArray","data","setData","gownId","setGownId","setUrlArrayID","deleteConfirm","setDeleteConfirm","setFavorit","loadingState","setLoadingState","carouselState","setCarouselState","formRef","useRef","useEffect","controller","AbortController","signal","url","SERVERURL","axios","then","res","gownFound","catch","error","console","log","message","alert","finally","setTimeout","abort","Delete","fetch","method","headers","localStorage","getItem","body","JSON","stringify","status","statusText","err","Submit","e","preventDefault","FormData","current","overflowX","onSubmit","ref","type","onClick","htmlFor","readOnly","value","name","onChange","checked","placeholder","min","onWheel","target","blur","rel","href","accept","multiple","disabled"],"sourceRoot":""}