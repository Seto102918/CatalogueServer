"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[659],{7967:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var n=a(4165),s=a(5861),r=a(885),l=a(2791),o=a(6871),i=a(4569),c=a.n(i),d=a(6765),u=(a(165),a(184));function m(e){return(0,u.jsxs)(d.sj,{visibleSlides:1,totalSlides:e.driveId.length,step:1,naturalSlideWidth:1,naturalSlideHeight:1,hasMasterSpinner:!0,lockOnWindowScroll:!0,className:"bg-dark bg-opacity-25 backdrop_blur rounded overflow-hidden col p-0 m-0",style:{aspectRatio:"1"},children:[(0,u.jsx)(d.iR,{className:"m-0",children:e.driveId.map((function(e,t){return(0,u.jsx)(d.Mi,{index:t,children:(0,u.jsx)(d.Ee,{src:"https://drive.google.com/uc?export=view&id=".concat(e),className:"imageWZoom"})},t)}))}),(0,u.jsx)(d.jp,{className:"position-absolute top-50 start-0 translate-middle-y d-grid mx-lg-3 btn btn-link",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"42",fill:"white",className:"bi bi-arrow-left",viewBox:"0 0 16 16",children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})}),(0,u.jsx)(d.P1,{className:"position-absolute top-50 end-0 translate-middle-y d-grid mx-lg-3 btn btn-link",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"42",fill:"white",className:"bi bi-arrow-right",viewBox:"0 0 16 16",children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})}),(0,u.jsx)("div",{className:"position-absolute bottom-0 start-50 translate-middle-x",children:e.driveId.map((function(e,t){return(0,u.jsx)(d.oT,{slide:t,className:"btn btn-light my-3 mx-1"},t)}))})]})}var h=a(1138);function f(){var e=(0,o.UO)(),t=(0,o.s0)(),a=(0,l.useState)(e.id),i=(0,r.Z)(a,2),d=i[0],f=(i[1],(0,l.useState)({_id:"",kode:"",warna:"",harga:"",favorit:"",kategori:"",drive:[]})),p=(0,r.Z)(f,2),b=p[0],x=p[1],g=(0,l.useState)(""),v=(0,r.Z)(g,2),j=v[0],w=v[1],N=(0,l.useState)([]),k=(0,r.Z)(N,2),y=k[0],S=k[1],F=(0,l.useState)(!1),Z=(0,r.Z)(F,2),C=Z[0],I=Z[1],E=(0,l.useState)(!1),T=(0,r.Z)(E,2),D=T[0],O=T[1],P=(0,l.useState)(!0),R=(0,r.Z)(P,2),W=(R[0],R[1]),H=(0,l.useRef)();(0,l.useEffect)((function(){var e=new AbortController,t=e.signal,a="".concat(h.h,"api/v1/gown/kode/").concat(d);return console.log(a),c().get(a,{signal:t}).then((function(e){x(e.data.gownFound[0]),S(e.data.gownFound[0].drive),w(e.data.gownFound[0]._id),O(e.data.gownFound[0].favorit)})).catch((function(e){c().isCancel(e)?console.log("Cancelled"):"Network Error"===e.message?alert("Cant connect to server.\nPlease try again later and if problem persist, please contact us through Whatsapp.\n(Link on the bottom of the page)"):console.log(e)})).finally((function(){return setTimeout((function(){W(!1)}),2500)})),function(){return e.abort()}}),[]);var _=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("delete"),a={id:j,kode:d},e.next=4,fetch(h.h+"/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(200!==e.status)return console.log("Status: "+e.status),Promise.reject("server");console.log("Success"),alert("Deleted"),t("/")})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),t.preventDefault(),e.next=4,fetch(h.h+"/edit",{method:"POST",body:new FormData(H.current)}).then((function(e){if(200!==e.status)return console.log("Status: "+e.status),Promise.reject("server");console.log("Success"),alert("Submitted")})).finally((function(){return setTimeout((function(){W(!1)}),2500)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,u.jsx)("div",{style:{overflowX:"hidden"},className:"mt-2",children:(0,u.jsx)("div",{className:"d-flex justify-content-center",children:(0,u.jsxs)("div",{className:"row container-fluid justify-content-around my-2",children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)(m,{driveId:y})}),(0,u.jsxs)("form",{className:"col",onSubmit:function(e){return A(e)},ref:H,children:[(0,u.jsxs)("h1",{className:"h1 text-center mt-2",children:["Edit ",(0,u.jsxs)("span",{className:" h3 text-muted",children:[" ",d," "]})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-sm-8",children:[(0,u.jsx)("label",{className:"mb-1",htmlFor:"kodeInp",children:"Kode"}),(0,u.jsx)("input",{className:"container-fluid border rounded p-2 mb-1 bg-dark bg-opacity-25 focusNone text-white",id:"kodeInp",type:"text",readOnly:"readonly",value:d,name:"kode","aria-label":"Edit"})]}),(0,u.jsxs)("div",{className:"col-sm-4 d-flex align-items-center",children:[(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"favorit",id:"flexCheckChecked",value:"true",onChange:function(){return O(!D)},checked:D,"aria-label":"Edit"}),(0,u.jsx)("label",{className:"form-check-label m-1",htmlFor:"flexCheckChecked",children:"Favorit"})]})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col",children:[(0,u.jsx)("label",{className:"mb-1",htmlFor:"warnaInp",children:"Warna"}),(0,u.jsx)("input",{className:"form-control",id:"warnaInp",type:"text",placeholder:b.warna,name:"warna","aria-label":"Edit"})]}),(0,u.jsxs)("div",{className:"col",children:[(0,u.jsx)("label",{className:"mb-1",htmlFor:"hargaInp",children:"Harga"}),(0,u.jsxs)("div",{className:"input-group",children:[(0,u.jsx)("span",{className:"input-group-text bg-dark bg-opacity-25 text-white",id:"hargaInp",children:"Rp."}),(0,u.jsx)("input",{className:"form-control",id:"hargaInp",type:"number",placeholder:b.harga,name:"harga","aria-label":"Edit",min:0,onWheel:function(e){return e.target.blur()}})]})]})]}),(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"row row-col-2",children:y.map((function(e,t){return(0,u.jsxs)("div",{className:"mb-2 col-12 col-sm-6 col-md-12 col-lg-6",children:[(0,u.jsx)("label",{className:"mb-1",htmlFor:"drive",children:0===t?"Ubah Foto Utama":"Ubah Foto ke-".concat(t+1)},"label"+t),(0,u.jsx)("a",{className:"ms-3",target:"_blank",rel:"noreferrer",href:"https://drive.google.com/file/d/".concat(e,"/view?usp=sharing"),id:"drive",children:"Link Drive"}),(0,u.jsx)("input",{className:"form-control ",id:"tambahFoto",type:"file",name:"change_"+t,"aria-label":"Edit"})]},"div"+t)}))}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{className:"mb-1",htmlFor:"tambahFoto",children:"Tambah Foto"}),(0,u.jsx)("input",{className:"form-control mb-4",id:"tambahFoto",type:"file",name:"add","aria-label":"Edit",multiple:!0}),(0,u.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[(0,u.jsx)("button",{className:"btn btn-primary",children:"Submit"}),(0,u.jsx)("button",{className:"btn btn-danger",type:"button",onClick:function(){console.log(C),C?_():I(!0)},children:C?"Are You Sure?":"Delete Gown Data"})]})]})]})})})}}}]);
//# sourceMappingURL=659.f91793f5.chunk.js.map