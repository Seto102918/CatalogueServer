"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[659],{7967:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var n=a(4165),l=a(5861),s=a(885),r=a(2791),i=a(6871),o=a(4569),c=a.n(o),d=a(6765),u=(a(165),a(184));function m(e){return(0,u.jsxs)(d.sj,{visibleSlides:1,totalSlides:e.driveId.length,step:1,naturalSlideWidth:1,naturalSlideHeight:1,hasMasterSpinner:!0,lockOnWindowScroll:!0,className:"bg-dark bg-opacity-25 backdrop_blur rounded overflow-hidden col p-0 m-0",style:{aspectRatio:"1"},children:[(0,u.jsx)(d.iR,{className:"m-0",children:e.driveId.map((function(e,t){return(0,u.jsx)(d.Mi,{index:t,children:(0,u.jsx)(d.Ee,{src:"https://drive.google.com/uc?export=view&id=".concat(e),className:"imageWZoom"})},t)}))}),(0,u.jsx)(d.jp,{className:"position-absolute top-50 start-0 translate-middle-y d-grid mx-lg-3 btn btn-link",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"42",fill:"white",className:"bi bi-arrow-left",viewBox:"0 0 16 16",children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})}),(0,u.jsx)(d.P1,{className:"position-absolute top-50 end-0 translate-middle-y d-grid mx-lg-3 btn btn-link",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"42",fill:"white",className:"bi bi-arrow-right",viewBox:"0 0 16 16",children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})}),(0,u.jsx)("div",{className:"position-absolute bottom-0 start-50 translate-middle-x",children:e.driveId.map((function(e,t){return(0,u.jsx)(d.oT,{slide:t,className:"btn btn-light my-3 mx-1"},t)}))})]})}var h=a(1138);function p(){var e=(0,i.UO)(),t=(0,i.s0)(),a=(0,r.useState)(e.id),o=(0,s.Z)(a,2),d=o[0],p=(o[1],(0,r.useState)({_id:"",kode:"",warna:"",harga:"",favorit:"",kategori:"",drive:[]})),f=(0,s.Z)(p,2),b=f[0],g=f[1],x=(0,r.useState)(""),v=(0,s.Z)(x,2),j=v[0],w=v[1],N=(0,r.useState)([]),k=(0,s.Z)(N,2),y=k[0],F=k[1],S=(0,r.useState)(!1),C=(0,s.Z)(S,2),Z=C[0],I=C[1],E=(0,r.useState)(!1),D=(0,s.Z)(E,2),T=D[0],O=D[1],P=(0,r.useState)(!0),R=(0,s.Z)(P,2),W=R[0],A=R[1],H=(0,r.useRef)();(0,r.useEffect)((function(){var e=new AbortController,t=e.signal,a="".concat(h.h,"api/v1/gown/kode/").concat(d);return console.log(a),c().get(a,{signal:t}).then((function(e){g(e.data.gownFound[0]),F(e.data.gownFound[0].drive),w(e.data.gownFound[0]._id),O(e.data.gownFound[0].favorit)})).catch((function(e){c().isCancel(e)?console.log("Cancelled"):"Network Error"===e.message?alert("Cant connect to server.\nPlease try again later and if problem persist, please contact us through Whatsapp.\n(Link on the bottom of the page)"):console.log(e)})).finally((function(){return setTimeout((function(){A(!1)}),2500)})),function(){return e.abort()}}),[]);var L=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("delete"),a={id:j,kode:d},e.next=4,fetch(h.h+"admin/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(200===e.status)console.log("Success"),alert("Deleted"),t("/");else{if(404!==e.status)return console.log("Status: "+e.status),Promise.reject("server");console.log("Cant Find data"),alert("Cant Find data"),t("/")}})).catch((function(e){console.log(e),alert("Failed to Delete...")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),a.preventDefault(),e.next=4,fetch(h.h+"admin/edit",{method:"POST",body:new FormData(H.current)}).then((function(e){if(200===e.status)console.log("Success"),alert("Change Applied"),t("/");else{if(404!==e.status)return console.log("Status: "+e.status),Promise.reject("server");console.log("Cant Find data"),alert("Cant Find data"),t("/")}})).finally((function(){return setTimeout((function(){A(!1)}),2500)})).catch((function(e){console.log(e),alert("Failed to edit...")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,u.jsx)("div",{style:{overflowX:"hidden"},className:"mt-2",children:(0,u.jsx)("div",{className:"d-flex justify-content-center",children:(0,u.jsxs)("div",{className:"row container-fluid justify-content-around my-2",children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)(m,{driveId:y})}),(0,u.jsxs)("form",{className:"col",onSubmit:function(e){return _(e)},ref:H,children:[(0,u.jsxs)("h1",{className:"h1 text-center mt-2",children:["Edit ",(0,u.jsxs)("span",{className:" h3 text-muted",children:[" ",d," "]})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-sm-8",children:[(0,u.jsx)("label",{className:"mb-1",htmlFor:"kodeInp",children:"Kode"}),(0,u.jsx)("input",{className:"container-fluid border rounded p-2 mb-1 bg-dark bg-opacity-25 focusNone text-white",id:"kodeInp",type:"text",readOnly:"readonly",value:d,name:"kode","aria-label":"Edit"})]}),(0,u.jsxs)("div",{className:"col-sm-4 d-flex align-items-center",children:[(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"favorit",id:"flexCheckChecked",value:"true",onChange:function(){return O(!T)},checked:T,"aria-label":"Edit"}),(0,u.jsx)("label",{className:"form-check-label m-1",htmlFor:"flexCheckChecked",children:"Favorit"})]})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col",children:[(0,u.jsx)("label",{className:"mb-1",htmlFor:"warnaInp",children:"Warna"}),(0,u.jsx)("input",{className:"form-control",id:"warnaInp",type:"text",placeholder:b.warna,name:"warna","aria-label":"Edit"})]}),(0,u.jsxs)("div",{className:"col",children:[(0,u.jsx)("label",{className:"mb-1",htmlFor:"hargaInp",children:"Harga"}),(0,u.jsxs)("div",{className:"input-group",children:[(0,u.jsx)("span",{className:"input-group-text bg-dark bg-opacity-25 text-white",id:"hargaInp",children:"Rp."}),(0,u.jsx)("input",{className:"form-control",id:"hargaInp",type:"number",placeholder:b.harga,name:"harga","aria-label":"Edit",min:0,onWheel:function(e){return e.target.blur()}})]})]})]}),(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"row row-col-2",children:y.map((function(e,t){return(0,u.jsxs)("div",{className:"mb-2 col-12 col-sm-6 col-md-12 col-lg-6",children:[(0,u.jsx)("label",{className:"mb-1",htmlFor:"drive",children:0===t?"Ubah Foto Utama":"Ubah Foto ke-".concat(t+1)},"label"+t),(0,u.jsx)("a",{className:"ms-3",target:"_blank",rel:"noreferrer",href:"https://drive.google.com/file/d/".concat(e,"/view?usp=sharing"),id:"drive",children:"Link Drive"}),(0,u.jsx)("input",{className:"form-control ",id:"tambahFoto",type:"file",name:"change_"+t,"aria-label":"Edit",accept:".jpg, .jpeg"})]},"div"+t)}))}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{className:"mb-1",htmlFor:"tambahFoto",children:"Tambah Foto"}),(0,u.jsx)("input",{className:"form-control mb-4",id:"tambahFoto",type:"file",name:"add","aria-label":"Edit",multiple:!0,accept:".jpg, .jpeg"}),(0,u.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[(0,u.jsx)("button",{className:"btn btn-primary",disabled:!!W,children:W?"Loading...":"Submit"}),(0,u.jsx)("button",{className:"btn btn-danger",type:"button",disabled:!!W,onClick:function(){console.log(Z),Z?L():I(!0)},children:Z?"Are You Sure?":"Delete Gown Data"})]})]})]})})})}}}]);
//# sourceMappingURL=659.e4c3e310.chunk.js.map